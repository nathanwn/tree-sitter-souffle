=====================================
user-defined functor invocation 1
=====================================

A(@f(i)) :- A(i), @f(i) < 100.

-------------------------------------

(source_file
 (rule
  (rule_head
   (atom
    (qualified_name
     (identifier))
    (argument
     (functor_invocation
      (user_defined_functor_name
       (qualified_name
        (identifier)))
      (argument
       (variable
        (identifier)))))))
  (disjunction
   (conjunction
    (atom
     (qualified_name
      (identifier))
     (argument
      (variable
       (identifier))))
    (constraint
     (binary_constraint
      (argument
       (functor_invocation
        (user_defined_functor_name
         (qualified_name
          (identifier)))
        (argument
         (variable
          (identifier)))))
      (argument
       (constant
        (decimal)))))))))


=====================================
user-defined functor invocation 2
=====================================

C(@f(i, j)) :- A(i), B(j), @f(i, j) < 100.

-------------------------------------

(source_file
 (rule
  (rule_head
   (atom
    (qualified_name
     (identifier))
    (argument
     (functor_invocation
      (user_defined_functor_name
      (qualified_name
       (identifier)))
      (argument
       (variable
        (identifier)))
      (argument
       (variable
        (identifier)))))))
  (disjunction
   (conjunction
    (atom
     (qualified_name
      (identifier))
     (argument
      (variable
       (identifier))))
    (atom
     (qualified_name
      (identifier))
     (argument
      (variable
       (identifier))))
    (constraint
     (binary_constraint
      (argument
       (functor_invocation
        (user_defined_functor_name
         (qualified_name
          (identifier)))
        (argument
         (variable
          (identifier)))
        (argument
         (variable
          (identifier)))))
      (argument
       (constant
        (decimal)))))))))


=====================================
intrinsic functor invocations
=====================================

length(n) :- n=strlen("foobar").

-------------------------------------

(source_file
 (rule
  (rule_head
   (atom
    (qualified_name
     (identifier))
    (argument
     (variable
      (identifier)))))
  (disjunction
   (conjunction
    (constraint
     (binary_constraint
      (argument
       (variable
        (identifier)))
      (argument
       (functor_invocation
        (intrinsic_functor_name)
        (argument
         (constant
          (string_literal)))))))))))
